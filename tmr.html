<!-- ///// HOW TO HANDLE TIMER BASED EVENTS ? ///// -->

<!DOCTYPE html>
<html>

<head>

</head>

<body>
    <!-- <h1 id="txt">Waiting...</h1>
    <button onclick="tryTimer()">Start Timer</button>
    <button onclick="stopTimer()">Stop Timer</button> -->
    <table onclick="mainClick()">
        <tr>
            <th>Code</th>
            <th>Product</th>
            <th>Price</th>
        </tr>
        <tr>
            <td>1001</td>
            <td>Apple</td>
            <td>$20</td>
        </tr>
        <tr>
            <td>1002</td>
            <td>Orange</td>
            <td><input type="text"></td>
        </tr>
    </table>
    <script>
        // let cnt = 0;
        // let tObj;

        // function tryTimer() {
        //     // setTimeout(() => {
        //     //     document.getElementById("txt").innerHTML = "Timed out with arrow"
        //     // }, 2000)
        //     tObj = setInterval(() => {
        //         document.getElementById("txt").innerHTML = new Date();
        //         cnt++;
        //     }, 1000)
        // }

        // function stopTimer() {
        //     clearInterval(tObj);
        // }

        // function mainClick() {
        //     if (event.target.tagName === "TD") {
        //         console.log(event.target.innerHTML)
        //     } else {
        //         console.log(event.target.value)
        //     }
        // }
        // let request = new XMLHttpRequest();
        // request.open("GET", "https://jsonplaceholder.typicode.com/comments");
        // request.responseType = "json"
        // request.timeout = 2000;
        // request.send();
        // request.onload = function () {
        //     if (request.status === 200) {
        //         console.log(request.response);
        //     } else {
        //         console.log("Invalid request")
        //     }
        // };
        // request.ontimeout = function () {
        //     console.log("Timed out...")
        // }
        // let request = new XMLHttpRequest();
        // request.open("GET", "https://jsonplaceholder.typicode.com/comments");
        // request.responseType = "json"
        // request.send();
        // request.onreadystatechange = function () {
        //     if (request.readyState === 4 && request.status === 200) {
        //         console.log(request.getAllResponseHeaders())
        //         console.log(request.getResponseHeader("content-type"))
        //         console.log(request.response);
        //     }
        // };

        // async function fetchData() {
        //     let data;
        //     const response = await fetch("https://jsonplaceholder.typicode.com/users")
        //     if (response.ok) {
        //         data = await response.json()
        //         console.log(data);
        //     }
        // }
        // fetchData();

        // const todo = {
        //     userId: 1001,
        //     id: 1,
        //     title: "New title",
        //     completed: false
        // }

        // fetch("https://jsonplaceholder.typicode.com/todos", {
        //         method: "POST",
        //         headers: {
        //             "Content-Type": "application/json;charset=utf-8"
        //         },
        //         body: JSON.stringify(todo)
        //     })
        //     .then((response) => response.json()).then((data) => console.log(data))


        // const todo = {
        //     userId: 1001,
        //     id: 1,
        //     title: "New title",
        //     completed: false
        // }

        // fetch("https://jsonplaceholder.typicode.com/todos", {
        //         method: "POST",
        //         headers: {
        //             "Content-Type": "application/json;charset=utf-8"
        //         },
        //         body: JSON.stringify(todo)
        //     })
        //     .then((response) => console.log(response))

        // async function fetchData() {
        //     let data;
        //     const response = await fetch("https://jsonplaceholder.typicode.com/users")
        //     console.log(response.headers);
        //     console.log(response.headers.get("Content-Type"))
        // }
        // fetchData();

        // let obj = {
        //     a: 10,
        //     b: 20,
        //     [Symbol.asyncIterator]() {
        //         return {
        //             async next() {
        //                 await new Promise(resolve => setTimeout(resolve, 1000));
        //                 if (obj.a < obj.b) {
        //                     return {
        //                         value: obj.a++,
        //                         done: false
        //                     };
        //                 } else {
        //                     return {
        //                         done: true
        //                     };
        //                 }
        //             }
        //         }
        //     }
        // };
        // (async () => {
        //     for await (let i of obj) {
        //         console.log(i);
        //     }
        // })();

        let obj = {
            start: 10,
            end: 15,
            async *[Symbol.asyncIterator]() {
                for (let cnt = this.start; cnt <= this.end; cnt++) {
                    await new Promise(resolve => setTimeout(resolve, 1000));
                    yield cnt;
                }
            }
        };

        (async () => {
            for await (let i of obj) {
                console.log(i);
            }
        })();
    </script>
</body>

</html>